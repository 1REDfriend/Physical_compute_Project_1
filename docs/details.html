<!doctype html>
<html lang="th">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ESP32 K-Line ECU Simulator — Project Details</title>
  <link rel="stylesheet" href="assets/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cts=" crossorigin="anonymous"></script>
  <script src="assets/app.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    .nav a.active {
      outline: 2px solid rgba(56, 189, 248, .5);
      border-radius: 8px
    }
  </style>
</head>

<body>
  <header class="navbar ">
    <div class="inner">
      <div class="brand">
        <i class="logo"></i><span>ESP32 K-Line ECU Simulator</span>
      </div>
      <nav class="nav">
        <a data-page="index.html" href="index.html">Home</a>
        <a data-page="details.html" href="details.html">Project Details</a>
        <a href="https://github.com/your-username/your-project-name" target="_repo" class="cta">Source Code (GitHub)</a>
      </nav>
    </div>
  </header>

  <div class="relative overflow-hidden">
    <video autoplay loop muted playsinline class="fixed top-0 left-0 w-full h-full object-cover z-0">
      <source src="assets/video2.mp4" type="video/mp4">
    </video>

    <div class="fixed top-0 left-0 w-full h-full bg-black/50 z-0"></div>

    <main class="container relative z-10">
      <section class="section" id="code">
        <h2 class="pb-10">Code Download</h2>
        <a class="p-5 px-7 bg-white/20 rounded-lg border-1 border-white/30" href="https://download-directory.github.io/?url=https%3A%2F%2Fgithub.com%2F1REDfriend%2FPhysical_compute_Project_1%2Ftree%2Fmain%2FArduino%2FGetLiveData">GetLiveData.ino</a>,
        <a class="p-5 px-7 bg-white/20 rounded-lg border-1 border-white/30" href="https://github.com/1REDfriend/Physical_compute_Project_1/blob/main/Arduino/ECU_SIMULATOR/ECU_SIMULATOR.ino">ECU Simulator.ino</a>
      </section>

      <section class="section" id="introduction">
        <h2>Introduction</h2>
        <p>
          ก่อนที่จะเกิดโปรเจคนี้ขึ้นมา การเข้าถึง ECU จริงเพื่อการเรียนรู้มีค่าใช้จ่ายสูงและไม่สะดวกนัก
          โดยเฉพาะเมื่อต้องการทดลองส่งคำสั่งที่อาจเกิดข้อผิดพลาด เราจึงมองหาทางเลือกที่ประหยัดและยืดหยุ่นกว่า
          แนวคิดในการใช้ไมโครคอนโทรลเลอร์ ESP32 ที่มีประสิทธิภาพสูงและเชื่อมต่อ Wi-Fi ได้ เพื่อสร้างเป็น ECU Simulator
          ต้นแบบ (Prototype) จึงเป็นคำตอบที่ลงตัวที่สุดสำหรับโปรเจกต์นี้
        </p>
      </section>

      <section class="section" id="objective">
        <h2>Objective</h2>
        <ul>
          <li>เพื่อพัฒนาเครื่องมือจำลอง (Simulator) ที่มีความเสถียร สำหรับใช้เป็น Test Bench
            ในการทดสอบและดีบักซอฟต์แวร์หรือฮาร์ดแวร์วินิจฉัย (Diagnostic Tools)</li>
          <li>จำลองการตอบสนองต่อคำสั่ง KWP2000 อย่างน้อย 5 คำสั่งที่แตกต่างกัน เช่น Read Data</li>
          <li>จำลองสภาวะที่ผิดปกติ Error Conditions เช่น การส่ง Negative Response (NACK) หรือการตอบสนองช้า (Timeout)
          </li>
        </ul>
      </section>

      <section class="section" id="methodology">
        <div
          class="card rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900">
          <h3 class="text-xl font-semibold tracking-tight text-slate-800 dark:text-slate-100">
            Implementation Notes: ESP32 K-Line Simulator (ตามโค้ดที่ใช้งานจริง)
          </h3>

          <!-- 1. ฮาร์ดแวร์ -->
          <section class="mt-4">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">
              1) ฮาร์ดแวร์ที่ใช้ (Hardware Stack)
            </h4>
            <div class="mt-3 grid gap-3 sm:grid-cols-2">
              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">ไมโครคอนโทรลเลอร์ (MCU)</h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>ESP32 ใช้ UART ฮาร์ดแวร์ที่ <code
                      class="rounded bg-slate-100 px-1 py-0.5 dark:bg-slate-800">10400</code> baud</li>
                  <li>พอร์ตตัวอย่าง: RX=GPIO16, TX=GPIO17</li>
                  <li>
                    การตั้งค่า Serial ทำผ่านเมธอดรวม
                    <code class="rounded bg-slate-100 px-1 py-0.5 dark:bg-slate-800">setSerial()</code>
                    <span
                      class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                  </li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">K-Line Transceiver</h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>4N25 Optocouper (ใช้แยกสัญญาน 5 V, 12 V)</li>
                  <li>การต่อ: ESP32 TX→TXD, ESP32 RX←RXD, ขา K ของชิป ไปที่ 4N25 Optocouper</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">แหล่งจ่ายไฟ</h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>อินพุต 12 V จากรถ, ควบคุมเป็น 5 V ด้วยเรกูเลเตอร์ที่เหมาะสม</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">คอนเนคเตอร์</h5>
                <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">หัว OBD-II แบบตัวผู้</p>
              </div>
            </div>
          </section>

          <!-- 2. การเริ่มสื่อสาร / Init -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">
              2) การตั้งค่า Baud และ Initialization (สอดคล้องกับโค้ด)
            </h4>

            <div
              class="mt-3 divide-y divide-slate-200 overflow-hidden rounded-xl border border-slate-200 dark:divide-slate-800 dark:border-slate-800">
              <!-- Slow init -->
              <div class="p-4">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">
                  A) 5-Baud Initialization (ISO 9141 / ISO14230_Slow)
                </h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>ปิด UART ชั่วคราวด้วย <code>setSerial(false)</code> เพื่อควบคุมขา GPIO โดยตรง
                    <span
                      class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                  </li>
                  <li>ส่ง 5-baud address 0x33 ด้วย <code>send5baud(0x33)</code> (สตาร์ทบิต + 7 บิต + parity + stop, คาบ
                    ~200 ms/บิต)</li>
                  <li>เปิด UART กลับเป็น 10400 baud ด้วย <code>setSerial(true)</code>, ตั้ง inter-byte timeout เริ่มต้น
                    30–60 ms</li>
                  <li>ตรวจซิงก์ 0x55 และ key bytes; ตอบกลับเขียน <em>inverted</em> KW2 แล้วรอ 0xCC เพื่อยืนยันเชื่อมต่อ
                  </li>
                </ul>
              </div>

              <!-- Fast init -->
              <div class="p-4">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">
                  B) Fast Initialization (ISO14230_Fast)
                </h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>สร้าง wake pulse: K-Line LOW ~25 ms แล้ว HIGH ~25 ms ด้วยการดึง TX โดยตรง</li>
                  <li>ส่งเฟรมเริ่มต้น <code>[ C1 33 F1 81 | CS ]</code> แล้วรอรับ โดยตรวจ
                    <code>resultBuffer[3] == 0xC1</code> เพื่อฟันธงโปรโตคอล
                  </li>
                  <li>ลอจิกเปิด/ปิด UART รวมที่ <code>setSerial()</code> และส่งด้วย <code>writeRawData()</code>
                    <span
                      class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                  </li>
                </ul>
              </div>

              <!-- Honda init -->
              <div class="p-4">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">
                  C) Honda Initialization (ISO14230_Honda)
                </h5>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li>ลำดับปลุก: LOW ~70 ms → HIGH ~120 ms → LOW (ตามที่โค้ดกำหนด)</li>
                  <li>ส่งสองเฟส: <code>wakeupHondaMsg = [ FE 04 72 ]</code> แล้วตามด้วย
                    <code>initHondaMsg = [ 72 05 00 F0 ]</code>
                  </li>
                  <li>ตรวจผลตอบกลับ เช่น <code>resultBuffer[3] == 0xFA</code> หรือ <code>resultBuffer[0] == 0x02</code>
                    เพื่อยืนยัน</li>
                  <li>ทุกอย่างถูกห่อด้วย <code>tryHondaInit()</code>
                    <span
                      class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                  </li>
                </ul>
              </div>
            </div>

            <p class="mt-3 text-xs text-slate-500 dark:text-slate-400">
              หมายเหตุ: เลือกโปรโตคอลได้ทั้ง Automatic / ISO9141 / ISO14230_Slow / ISO14230_Fast / ISO14230_Honda ผ่าน
              <code>setProtocol()</code> และวนลอง <code>trySlowInit()</code>, <code>tryFastInit()</code>,
              <code>tryHondaInit()</code> ตามลำดับที่ตั้งค่าไว้
              <span
                class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
            </p>
          </section>

          <!-- 3. เฟรม / PDU ตามโค้ด -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">
              3) โครงสร้างเฟรม และตัวอย่าง PDU (ตามเฮดเดอร์ที่โค้ดใช้)
            </h4>

            <div class="mt-3 grid gap-3 sm:grid-cols-2">
              <!-- ISO9141 / ISO14230 -->
              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">
                  ISO9141 / ISO14230 (โหมดทั่วไป)
                </h5>
                <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
                  โค้ดกำหนดส่วนหัวต่างกันตามโปรโตคอลใน <code>writeData()</code>:
                </p>
                <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
                  <li><span class="font-medium">ISO9141</span>:
                    <code>[ 68/69 6A F1 MODE (PID?) ... | CS ]</code>
                  </li>
                  <li><span class="font-medium">ISO14230_Fast/Slow</span>:
                    <code>[ C1/C2/C3 33 F1 MODE (PID?) ... | CS ]</code>
                  </li>
                </ul>
                <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">
                  การเติม Checksum ทำอัตโนมัติใน <code>writeRawData()</code> และ <code>writeData()</code>
                  <span
                    class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                </p>
              </div>

              <!-- Honda live data -->
              <div class="rounded-xl border border-slate-200 p-4 dark:border-slate-800">
                <h5 class="text-sm font-semibold text-slate-700 dark:text-slate-200">
                  Honda (Live Data)
                </h5>
                <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
                  เมื่อเชื่อมต่อแบบ Honda โค้ดส่งเฟรมอ่าน Live Data ด้วยส่วนหัวคงที่:
                  <code>[ 72 05 71 PID | CS ]</code>
                </p>
                <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">
                  การประกอบเฟรมและเช็กซัมถูกห่อใน <code>writeData()</code> (รวม Honda mode)
                  <span
                    class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
                </p>
              </div>
            </div>
          </section>

          <!-- 4. เช็กซัม -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">4) Checksum</h4>
            <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
              <li>ทั่วไป: ผลรวมแบบ 8-bit (<code>sum % 256</code>)</li>
              <li>Honda: ใช้ค่ากลับส่วนเติมเต็ม (<code>0x100 - (sum % 256)</code>) ภายใน
                <code>calculateChecksum()</code>
                <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
            </ul>
          </section>

          <!-- 5. Timing & IO -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">5) Timing & I/O Handling</h4>
            <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
              <li>เว้นระยะส่งต่อไบต์: ค่าเริ่มต้น ~<code>_byteWriteInterval = 5 ms</code> ปรับได้ด้วย
                <code>setByteWriteInterval()</code>
              </li>
              <li>Inter-byte timeout: ค่าเริ่มต้น ~<code>_interByteTimeout = 60 ms</code> ปรับได้ด้วย
                <code>setInterByteTimeout()</code>
              </li>
              <li>Read timeout รวม: ~<code>_readTimeout = 1000 ms</code> ปรับได้ด้วย <code>setReadTimeout()</code></li>
              <li>ทุกการอ่านเรียก <code>readData()</code> ซึ่งจะรอจนไม่มีไบต์ใหม่ภายในช่วง inter-byte
                แล้วค่อยสรุปแพ็กเก็ต</li>
              <li>
                เคลียร์ Echo อัตโนมัติหลังส่งด้วย <code>clearEcho()</code>
                <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
            </ul>
          </section>

          <!-- 6. การแปลงค่า Live Data (ตัวอย่าง Honda Table 0x17) -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">
              6) การแมป Live Data (Honda Table 0x17)
            </h4>
            <div class="mt-3 overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800">
              <table class="min-w-full divide-y divide-slate-200 text-sm dark:divide-slate-800">
                <thead class="bg-slate-50 dark:bg-slate-800/50">
                  <tr>
                    <th class="px-4 py-2 text-left font-medium text-slate-600 dark:text-slate-300">ฟิลด์</th>
                    <th class="px-4 py-2 text-left font-medium text-slate-600 dark:text-slate-300">สูตร/ที่มา</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-200 dark:divide-slate-800">
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">Engine Speed (rpm)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[0..1] เป็น 16-bit big-endian</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">Throttle Position (%)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[3] × 5 / 256</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">Ignition Timing (°)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[4] / 2 − 64</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">IAT / ECT (°C)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">IAT: payload[5] − 40, ECT: payload[7] − 40
                    </td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">MAP (mbar)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[9] × 10</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">Battery (V)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[10] / 10</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-2 text-slate-700 dark:text-slate-200">Vehicle Speed (km/h)</td>
                    <td class="px-4 py-2 text-slate-600 dark:text-slate-300">payload[16]</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">
              ฟังก์ชันรวมสำหรับอ่าน/แปลง: <code>getHondaLiveData()</code> → <code>parseHondaTable17()</code>
              <span
                class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
            </p>
          </section>

          <!-- 7. ยูทิลิตี้ที่ช่วยลดขั้นตอน -->
          <section class="mt-6">
            <h4 class="text-base font-semibold text-slate-700 dark:text-slate-200">7) ยูทิลิตี้ที่ใช้ลดขั้นตอน</h4>
            <ul class="mt-2 list-disc space-y-1 pl-5 text-sm text-slate-600 dark:text-slate-300">
              <li><code>writeRawData()</code>: เติม checksum อัตโนมัติ + เคลียร์ echo หลังส่ง <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
              <li><code>writeData()</code>: เลือกฟอร์แมตเฮดเดอร์ให้ตามโปรโตคอลที่ต่ออยู่ <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
              <li><code>readData()</code>: รวมลูปรอข้อมูล + inter-byte window + อัปเดตสถานะการเชื่อมต่อ <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
              <li><code>readSupportedData()</code>: วนอ่านบล็อก Supported PIDs แบบไดนามิก (หยุดเมื่อไม่มีบล็อกต่อ) <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
              <li><code>calculateChecksum()</code>: สวิตช์อัตโนมัติระหว่างแบบปกติและแบบ Honda <span
                  class="ml-2 rounded bg-emerald-50 px-2 py-0.5 text-xs text-emerald-700 ring-1 ring-emerald-200">ลดขั้นตอน</span>
              </li>
            </ul>
          </section>
        </div>
      </section>
  </section>

  <section class="section" id="methodology">
    <h2>Methodology</h2>
    <div class="">
      <div class="card">
        <h3>Block Diagram / Flowchart</h3>
        <img class="mb-2" src="assets/ESP32.png" />
        <img class="mb-2" src="assets/image2.png" />
        <span class="badge">ภาพวงจร/ไดอะแกรม</span>
      </div>
  </section>

  <section class="section" id="results">
    <h2>Results / Findings</h2>
    <p>ตัวอย่างตารางสรุปผลการทดลอง:</p>
    <table class="table">
      <thead>
        <tr>
          <th>Metric</th>
          <th>Value</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Init Success Rate</td>
          <td>99 %</td>
          <td>ปรับตามผลจริง</td>
        </tr>
        <tr>
          <td>Response Latency</td>
          <td>25ms</td>
          <td>เฉลี่ยจาก N ครั้ง</td>
        </tr>
        <tr>
          <td>Packet Error</td>
          <td>0 %</td>
          <td>ขึ้นกับสภาพสัญญาณ</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="section" id="analysis">
    <h2>Analysis</h2>
    <p>
      จากการทดลองสื่อสารระหว่าง ESP32 กับ ECU ผ่าน K-Line (ISO 9141-2 / KWP2000) 
      พบว่าสามารถทำการ Fast Initialization ได้สำเร็จภายใต้เงื่อนไขเวลามาตรฐาน (70 ms low, 120 ms high) 
      และสามารถรับ–ส่งเฟรมข้อมูลด้วย baud rate 10400 bps ได้อย่างเสถียร การตอบสนองของ ECU แสดงให้เห็นถึงการ handshake ที่ถูกต้อง 
      เช่น การตอบกลับด้วย header [0x0e, 0x04, 0x72] หรือรหัสสถานะจาก ECU หลังจากคำสั่ง “Start Communication”.
    </p>
  </section>

  <section class="section" id="conclusion">
    <h2>Conclusion &amp; Recommendations</h2>
    <h3>Conclusion: </h3>
    <ul>
      <li>ระบบสามารถสื่อสารกับ ECU ผ่าน K-Line ได้อย่างถูกต้อง</li>
      <li>การทำ fast-init ตาม timing มาตรฐานช่วยให้ ECU เริ่มต้น session ได้เสถียร</li>
      <li>เฟรมข้อมูลที่มี checksum ถูกต้องทุกครั้งจะทำให้ ECU ตอบสนองตามที่คาดหมาย</li>
      <li>การใช้วงจร transceiver ที่เหมาะสมช่วยลดปัญหา noise และปกป้องวงจร ESP32</li>
    </ul>
    <br>
    <h3>Recommendations: </h3>
    <ul>
      <li>พัฒนาโมดูล Auto-detect Protocol: เพื่อให้ระบบสามารถตรวจจับประเภทโปรโตคอล (ISO 9141-2, KWP2000, CAN) ได้อัตโนมัติ</li>
      <li>เพิ่มระบบ Logging: เก็บข้อมูลเฟรมที่ส่ง–รับในรูปแบบ CSV หรือ JSON สำหรับการวิเคราะห์ย้อนหลัง</li>
      <li>ออกแบบ Dashboard แบบ Real-time: แสดงค่าพารามิเตอร์ เช่น RPM, TPS, IAT, ECT, Voltage แบบกราฟเพื่อใช้ในการวิเคราะห์สมรรถนะเครื่องยนต์</li>
      <li>ทดสอบภาคสนามกับ ECU หลายรุ่น: เพื่อประเมินความเข้ากันได้ (Compatibility) ระหว่างยี่ห้อรถยนต์และปีผลิตต่างๆ</li>
    </ul>
  </section>
  </main>
  </div>

  <footer class="footer">
    © <span id="year"></span> Your Name — ESP32 K-Line ECU Simulator
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>

</html>